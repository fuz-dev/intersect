import{q as H,u as q,H as b,m as v,i as O,d as B,b as m,v as C,e as I,w as k,x as M,y as Y,h as E,g as P,z as V}from"./disclose-version.4WUFGOf4.js";import{d as W,c as $,A as z,B as A,C as F,D as G,F as j,m as J,p as K,h as Q,k as U,G as X}from"./runtime.aTuocfth.js";const N=new Set,T=new Set;function ar(r,a,t,i){function n(e){if(i.capture||y.call(a,e),!e.cancelBubble)return t.call(this,e)}return r.startsWith("pointer")||r==="wheel"?z(()=>{a.addEventListener(r,n,i)}):a.addEventListener(r,n,i),n}function er(r){for(var a=0;a<r.length;a++)N.add(r[a]);for(var t of T)t(r)}function y(r){var L;var a=this,t=a.ownerDocument,i=r.type,n=((L=r.composedPath)==null?void 0:L.call(r))||[],e=n[0]||r.target,c=0,l=r.__root;if(l){var u=n.indexOf(l);if(u!==-1&&(a===document||a===window)){r.__root=a;return}var f=n.indexOf(a);if(f===-1)return;u<=f&&(c=u)}if(e=n[c]||r.target,e!==a){W(r,"currentTarget",{configurable:!0,get(){return e||t}});try{for(var h,s=[];e!==null;){var d=e.parentNode||e.host||null;try{var o=e["__"+i];if(o!==void 0&&!e.disabled)if($(o)){var[g,...p]=o;g.apply(e,[r,...p])}else o.call(e,r)}catch(w){h?s.push(w):h=w}if(r.cancelBubble||d===a||d===null)break;e=d}if(h){for(let w of s)queueMicrotask(()=>{throw w});throw h}}finally{r.__root=a,e=a}}}let D=!0;function tr(r){D=r}function nr(r,a){(r.__t??(r.__t=r.nodeValue))!==a&&(r.nodeValue=r.__t=a)}function Z(r,a){const t=a.anchor??a.target.appendChild(H());return A(()=>S(r,{...a,anchor:t}),!1)}function sr(r,a){a.intro=a.intro??!1;const t=a.target,i=E,n=m;try{return A(()=>{for(var e=t.firstChild;e&&(e.nodeType!==8||e.data!==q);)e=e.nextSibling;if(!e)throw b;v(!0),O(e),B();const c=S(r,{...a,anchor:e});if(m.nodeType!==8||m.data!==C)throw I(),b;return v(!1),c},!1)}catch(e){if(e===b)return a.recover===!1&&F(),k(),M(t),v(!1),Z(r,a);throw e}finally{v(i),O(n),Y()}}const _=new Map;function S(r,{target:a,anchor:t,props:i={},events:n,context:e,intro:c=!0}){k();var l=new Set,u=s=>{for(var d=0;d<s.length;d++){var o=s[d];if(!l.has(o)){l.add(o);var g=V.includes(o);a.addEventListener(o,y,{passive:g});var p=_.get(o);p===void 0?(document.addEventListener(o,y,{passive:g}),_.set(o,1)):_.set(o,p+1)}}};u(G(N)),T.add(u);var f=void 0,h=j(()=>(J(()=>{if(e){K({});var s=X;s.c=e}n&&(i.$$events=n),E&&P(t,null),D=c,f=r(t,i)||{},D=!0,E&&(Q.nodes.end=m),e&&U()}),()=>{for(var s of l){a.removeEventListener(s,y);var d=_.get(s);--d===0?(document.removeEventListener(s,y),_.delete(s)):_.set(s,d)}T.delete(u),R.delete(f)}));return R.set(f,h),f}let R=new WeakMap;function or(r){const a=R.get(r);a==null||a()}export{D as a,tr as b,ar as c,er as d,sr as h,Z as m,nr as s,or as u};
